NEXT:
- Revisit and clean up skills panel

- Ranged weapons
    - Player can shoot
        - hjklyubn keys freetarget, f confirms
        - Targets should be sorted by proximity?
        - restrict targets and freetargeting by range
        x Weapons need a 'range' attribute
        x if you have no ranged attack, should message and switch back to hud.
        x Body needs a 'ranged' slot.
        - ActorShooter
            - This can be the thing that computes targets + paths, and actually
              shoots
            - Shoot() does what Hit() does for ActorFighter
            - gun specialties
                - no sides bonus based on weight
        - Sheet interface needs Ranged() that returns ranged attack
        - Move messages to a separate queue in EventQueue, so that we can
          always render the last few from there rather than just buffering in
          the panel.
        - MonsterSheet needs ranged []Attack
        - Ranged attack needs to show up on sheet screen and hud
        - Monster AI needs to be adjusted for monsters with ranged attacks.
    - "Archer" AI

- Monsters have multiple abilities.
    - Abilities need:
        - cooldown
        - function that implements behaviour
        - a predicate that says whether they're applicable or not. (?)
        - Ability to affect transitions on AI. (i.e. if a thief steals
          something, it should flee and not stop until it's dead)
    - Monsters need:
        - Collection of abilities with their probability of using it
        - Do angband-ish thing? One in X chance of using an ability, then
          %chance of each. If no ability available, then move/attack as normal.

- Monster AI:
    Types:
        x Wandering
            x Wander (select point, walk towards it, wait a bit, select new one.)
              into
            x Detect & Chase
            x Detection should be based on monster LOS in personality
        x Territorial 
            x Sit still
            x Chase when detected; return home when lose detection 
        - Lazy
            - Sit still
            - Chase when attacked
            - Stay at last position when lose detection
 
Then:
- Open/close doors
- Add a basic "you got to level 5 you win"
- Unique items, monsters in gen.c
- Monster capabilities: Can/can't open doors.
- Equipment needs to be able to modify all skills, stats, etc.

Stuff:
- Consumables stack in inventories.
- Monster pack starting formation and proper pack placement.
- XP spending on skills
- user-level configs for
    - keymaps
    - morgues
    - etc
- Pack AI
- Room variations ("vaults")
- Room decorations
- regen SP
- provide an option to get "attack breakdown" on every hit e.g. damage from any
  brands, damage resisted
- markup language in Message that can be used to suggest colors in client.

Bug:
- If you equip a weapon that grants +ev, you see 0-0 in prot display if you're not wearing armor.

Cleanup:
- Great Visibility Sweep -- exporting types and fields has been done really
  haphazardly, and signals the wrong things. Should be cleaned up.
